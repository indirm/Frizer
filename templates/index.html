{% extends "base.html" %}
{% block title %}Domov{% endblock %}

{% block content %}

<!-- Hero / Welcome Section -->
<section class="text-center py-20 px-4 sm:px-6 lg:px-8 bg-gradient-to-r from-yellow-200 to-yellow-400 rounded-xl shadow-xl relative overflow-hidden">
    <h1 class="text-5xl sm:text-6xl font-extrabold mb-6 drop-shadow-lg">Dobrodošli v našem Frizerskem Studiu!</h1>
    <p class="mb-8 text-xl sm:text-2xl max-w-3xl mx-auto drop-shadow-sm">
        Profesionalne storitve, prijazno osebje in vrhunski rezultati. Vaše zadovoljstvo nam je najpomembnejše.
    </p>
    <a href="#book" class="inline-block bg-gray-900 text-white px-8 py-4 rounded-full font-semibold text-lg shadow-lg hover:bg-gray-800 transition-transform transform hover:-translate-y-1">
        Rezervirajte termin
    </a>
</section>

<!-- Booking Form -->
<section id="book" class="mt-12 bg-yellow-100 p-6 rounded shadow-md max-w-xl mx-auto text-gray-900">
    <h2 class="text-2xl font-bold mb-4 text-center">Rezervacija termina</h2>
    <form id="bookingForm" class="space-y-4">
        <input type="text" id="name" placeholder="Vaše ime" class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-yellow-500 text-black" required>
        <input type="text" id="phone" placeholder="Telefon" class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-yellow-500 text-black" required>
        <input type="date" id="date" class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-yellow-500 text-black" required>
        <input type="time" id="time" class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-yellow-500 text-black" required>
        <button type="button" onclick="book()" class="w-full bg-gray-900 text-white py-2 rounded hover:bg-gray-800 transition">Rezerviraj</button>
        <p id="message" class="text-green-600 font-semibold mt-2 text-center"></p>
    </form>
</section>

<!-- About / Info Section -->
<section class="mt-16 px-4 sm:px-6 lg:px-8 text-center">
    <h2 class="text-4xl font-extrabold mb-6 text-gray-900">Zakaj izbrati nas?</h2>
    <p class="max-w-3xl mx-auto text-gray-700 text-lg sm:text-xl leading-relaxed mb-12">
        Nudimo široko paleto frizerskih storitev, od klasičnega striženja do modernih stilov in oblikovanja las. Naša ekipa uporablja le kakovostne izdelke in se trudi za vrhunsko izkušnjo.
    </p>
</section>

<script>
function book() {
    fetch("/book", {
        method: "POST",
        headers: {"Content-Type": "application/json"},
        body: JSON.stringify({
            name: document.getElementById("name").value,
            phone: document.getElementById("phone").value,
            date: document.getElementById("date").value,
            time: document.getElementById("time").value
        })
    })
    .then(res => res.json().then(data => ({status: res.status, body: data})))
    .then(obj => {
        const msg = document.getElementById("message");
        msg.innerText = obj.body.message;
        msg.className = obj.status === 200 ? "text-green-600 font-semibold mt-2 text-center" : "text-red-600 font-semibold mt-2 text-center";
    })
    .catch(err => {
        console.error(err);
        const msg = document.getElementById("message");
        msg.innerText = "Napaka, poskusite znova.";
        msg.className = "text-red-600 font-semibold mt-2 text-center";
    });
}
</script>

{% endblock %}
